{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { withGoogleMap, GoogleMap, withScriptjs, Marker, DirectionsRenderer } from \"react-google-maps\";\nimport \"./config\";\n\nfunction MapDirectionsRenderer(props) {\n  const {\n    0: directions,\n    1: setDirections\n  } = useState(null);\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  useEffect(() => {\n    const {\n      places,\n      travelMode\n    } = props;\n    const waypoints = places.map(p => ({\n      location: {\n        lat: p.lat,\n        lng: p.lng\n      },\n      stopover: true\n    }));\n    const origin = waypoints.shift().location;\n    const destination = waypoints.pop().location;\n    const directionsService = new google.maps.DirectionsService();\n    directionsService.route({\n      origin: origin,\n      destination: destination,\n      travelMode: travelMode,\n      waypoints: waypoints\n    }, (result, status) => {\n      if (status === google.maps.DirectionsStatus.OK) {\n        setDirections(result);\n      } else {}\n    });\n  });\n\n  if (error) {\n    return __jsx(\"h1\", null, error);\n  }\n\n  return directions && __jsx(DirectionsRenderer, {\n    directions: directions\n  });\n}\n\nconst Map = withScriptjs(withGoogleMap(props => __jsx(GoogleMap, {\n  defaultCenter: props.defaultCenter,\n  defaultZoom: props.defaultZoom,\n  defaultOptions: {\n    fullscreenControl: false,\n    mapTypeControl: false,\n    scaleControl: false,\n    streetViewControl: false\n  }\n}, props.markers.map((marker, index) => {\n  const position = {\n    lat: marker.lat,\n    lng: marker.lng\n  };\n  return __jsx(Marker, {\n    key: index,\n    position: position\n  });\n}), __jsx(MapDirectionsRenderer, {\n  places: props.markers,\n  travelMode: google.maps.TravelMode.DRIVING\n}))));\nexport default Map;","map":null,"metadata":{},"sourceType":"module"}